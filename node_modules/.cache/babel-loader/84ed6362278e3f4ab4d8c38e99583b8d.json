{"ast":null,"code":"import _toArray from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _classCallCheck from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncToGenerator from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@babel/runtime/regenerator/index.js\";\nimport { ao as _isIOS7Or8, ap as debugAssert, aq as _isIOS, ar as _isAndroid, as as _fail, at as _getRedirectUrl, au as _getProjectConfig, av as _createError, aw as _assert, ax as _getInstance, b as browserLocalPersistence, ay as _persistenceKeyName, az as AuthEventManager, a as browserSessionPersistence, aA as _getRedirectResult, aB as _clearRedirectOutcomes, aC as _castAuth } from './index-1679a2b2.js';\nexport { A as ActionCodeOperation, ac as ActionCodeURL, G as AuthCredential, C as AuthErrorCodes, aE as AuthImpl, aH as AuthPopup, H as EmailAuthCredential, L as EmailAuthProvider, M as FacebookAuthProvider, F as FactorId, aI as FetchProvider, Q as GithubAuthProvider, N as GoogleAuthProvider, I as OAuthCredential, T as OAuthProvider, O as OperationType, J as PhoneAuthCredential, P as PhoneAuthProvider, m as PhoneMultiFactorGenerator, o as ProviderId, R as RecaptchaVerifier, aJ as SAMLAuthCredential, U as SAMLAuthProvider, S as SignInMethod, V as TwitterAuthProvider, aD as UserImpl, aw as _assert, aC as _castAuth, as as _fail, aG as _generateEventId, aF as _getClientVersion, ax as _getInstance, aA as _getRedirectResult, ay as _persistenceKeyName, a1 as applyActionCode, b as browserLocalPersistence, k as browserPopupRedirectResolver, a as browserSessionPersistence, a2 as checkActionCode, a0 as confirmPasswordReset, E as connectAuthEmulator, a4 as createUserWithEmailAndPassword, z as debugErrorMap, y as deleteUser, a9 as fetchSignInMethodsForEmail, ak as getAdditionalUserInfo, n as getAuth, ah as getIdToken, ai as getIdTokenResult, am as getMultiFactorResolver, j as getRedirectResult, K as inMemoryPersistence, i as indexedDBLocalPersistence, D as initializeAuth, a7 as isSignInWithEmailLink, Y as linkWithCredential, l as linkWithPhoneNumber, d as linkWithPopup, g as linkWithRedirect, an as multiFactor, t as onAuthStateChanged, q as onIdTokenChanged, ad as parseActionCodeURL, B as prodErrorMap, Z as reauthenticateWithCredential, r as reauthenticateWithPhoneNumber, e as reauthenticateWithPopup, h as reauthenticateWithRedirect, al as reload, aa as sendEmailVerification, $ as sendPasswordResetEmail, a6 as sendSignInLinkToEmail, p as setPersistence, W as signInAnonymously, X as signInWithCredential, _ as signInWithCustomToken, a5 as signInWithEmailAndPassword, a8 as signInWithEmailLink, s as signInWithPhoneNumber, c as signInWithPopup, f as signInWithRedirect, x as signOut, aj as unlink, w as updateCurrentUser, af as updateEmail, ag as updatePassword, u as updatePhoneNumber, ae as updateProfile, v as useDeviceLanguage, ab as verifyBeforeUpdateEmail, a3 as verifyPasswordResetCode } from './index-1679a2b2.js';\nimport { querystringDecode } from '@firebase/util';\nimport '@firebase/app';\nimport 'tslib';\nimport '@firebase/logger';\nimport '@firebase/component';\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nfunction _cordovaWindow() {\n  return window;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * How long to wait after the app comes back into focus before concluding that\r\n * the user closed the sign in tab.\r\n */\n\n\nvar REDIRECT_TIMEOUT_MS = 2000;\n/**\r\n * Generates the URL for the OAuth handler.\r\n */\n\nfunction _generateHandlerUrl(_x, _x2, _x3) {\n  return _generateHandlerUrl2.apply(this, arguments);\n}\n/**\r\n * Validates that this app is valid for this project configuration\r\n */\n\n\nfunction _generateHandlerUrl2() {\n  _generateHandlerUrl2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(auth, event, provider) {\n    var _a, _cordovaWindow4, BuildInfo, sessionDigest, additionalParams;\n\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            // Get the cordova plugins\n            _cordovaWindow4 = _cordovaWindow(), BuildInfo = _cordovaWindow4.BuildInfo;\n            debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\n            _context7.next = 4;\n            return computeSha256(event.sessionId);\n\n          case 4:\n            sessionDigest = _context7.sent;\n            additionalParams = {};\n\n            if (_isIOS()) {\n              // iOS app identifier\n              additionalParams['ibi'] = BuildInfo.packageName;\n            } else if (_isAndroid()) {\n              // Android app identifier\n              additionalParams['apn'] = BuildInfo.packageName;\n            } else {\n              _fail(auth, \"operation-not-supported-in-this-environment\"\n              /* OPERATION_NOT_SUPPORTED */\n              );\n            } // Add the display name if available\n\n\n            if (BuildInfo.displayName) {\n              additionalParams['appDisplayName'] = BuildInfo.displayName;\n            } // Attached the hashed session ID\n\n\n            additionalParams['sessionId'] = sessionDigest;\n            return _context7.abrupt(\"return\", _getRedirectUrl(auth, provider, event.type, undefined, (_a = event.eventId) !== null && _a !== void 0 ? _a : undefined, additionalParams));\n\n          case 10:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _generateHandlerUrl2.apply(this, arguments);\n}\n\nfunction _validateOrigin(_x4) {\n  return _validateOrigin2.apply(this, arguments);\n}\n\nfunction _validateOrigin2() {\n  _validateOrigin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(auth) {\n    var _cordovaWindow5, BuildInfo, request;\n\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _cordovaWindow5 = _cordovaWindow(), BuildInfo = _cordovaWindow5.BuildInfo;\n            request = {};\n\n            if (_isIOS()) {\n              request.iosBundleId = BuildInfo.packageName;\n            } else if (_isAndroid()) {\n              request.androidPackageName = BuildInfo.packageName;\n            } else {\n              _fail(auth, \"operation-not-supported-in-this-environment\"\n              /* OPERATION_NOT_SUPPORTED */\n              );\n            } // Will fail automatically if package name is not authorized\n\n\n            _context8.next = 5;\n            return _getProjectConfig(auth, request);\n\n          case 5:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _validateOrigin2.apply(this, arguments);\n}\n\nfunction _performRedirect(handlerUrl) {\n  // Get the cordova plugins\n  var _cordovaWindow2 = _cordovaWindow(),\n      cordova = _cordovaWindow2.cordova;\n\n  return new Promise(function (resolve) {\n    cordova.plugins.browsertab.isAvailable(function (browserTabIsAvailable) {\n      var iabRef = null;\n\n      if (browserTabIsAvailable) {\n        cordova.plugins.browsertab.openUrl(handlerUrl);\n      } else {\n        // TODO: Return the inappbrowser ref that's returned from the open call\n        iabRef = cordova.InAppBrowser.open(handlerUrl, _isIOS7Or8() ? '_blank' : '_system', 'location=yes');\n      }\n\n      resolve(iabRef);\n    });\n  });\n}\n/**\r\n * This function waits for app activity to be seen before resolving. It does\r\n * this by attaching listeners to various dom events. Once the app is determined\r\n * to be visible, this promise resolves. AFTER that resolution, the listeners\r\n * are detached and any browser tabs left open will be closed.\r\n */\n\n\nfunction _waitForAppResume(_x5, _x6, _x7) {\n  return _waitForAppResume2.apply(this, arguments);\n}\n/**\r\n * Checks the configuration of the Cordova environment. This has no side effect\r\n * if the configuration is correct; otherwise it throws an error with the\r\n * missing plugin.\r\n */\n\n\nfunction _waitForAppResume2() {\n  _waitForAppResume2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(auth, eventListener, iabRef) {\n    var _cordovaWindow6, cordova, cleanup;\n\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            // Get the cordova plugins\n            _cordovaWindow6 = _cordovaWindow(), cordova = _cordovaWindow6.cordova;\n\n            cleanup = function cleanup() {};\n\n            _context9.prev = 2;\n            _context9.next = 5;\n            return new Promise(function (resolve, reject) {\n              var onCloseTimer = null; // DEFINE ALL THE CALLBACKS =====\n\n              // DEFINE ALL THE CALLBACKS =====\n              function authEventSeen() {\n                var _a; // Auth event was detected. Resolve this promise and close the extra\n                // window if it's still open.\n\n\n                // Auth event was detected. Resolve this promise and close the extra\n                // window if it's still open.\n                resolve();\n                var closeBrowserTab = (_a = cordova.plugins.browsertab) === null || _a === void 0 ? void 0 : _a.close;\n\n                if (typeof closeBrowserTab === 'function') {\n                  closeBrowserTab();\n                } // Close inappbrowser emebedded webview in iOS7 and 8 case if still\n                // open.\n\n\n                // Close inappbrowser emebedded webview in iOS7 and 8 case if still\n                // open.\n                if (typeof (iabRef === null || iabRef === void 0 ? void 0 : iabRef.close) === 'function') {\n                  iabRef.close();\n                }\n              }\n\n              function resumed() {\n                if (onCloseTimer) {\n                  // This code already ran; do not rerun.\n                  return;\n                }\n\n                onCloseTimer = window.setTimeout(function () {\n                  // Wait two seeconds after resume then reject.\n                  reject(_createError(auth, \"redirect-cancelled-by-user\"\n                  /* REDIRECT_CANCELLED_BY_USER */\n                  ));\n                }, REDIRECT_TIMEOUT_MS);\n              }\n\n              function visibilityChanged() {\n                if ((document === null || document === void 0 ? void 0 : document.visibilityState) === 'visible') {\n                  resumed();\n                }\n              } // ATTACH ALL THE LISTENERS =====\n              // Listen for the auth event\n\n\n              // ATTACH ALL THE LISTENERS =====\n              // Listen for the auth event\n              eventListener.addPassiveListener(authEventSeen); // Listen for resume and visibility events\n\n              // Listen for resume and visibility events\n              document.addEventListener('resume', resumed, false);\n\n              if (_isAndroid()) {\n                document.addEventListener('visibilitychange', visibilityChanged, false);\n              } // SETUP THE CLEANUP FUNCTION =====\n\n\n              // SETUP THE CLEANUP FUNCTION =====\n              cleanup = function cleanup() {\n                eventListener.removePassiveListener(authEventSeen);\n                document.removeEventListener('resume', resumed, false);\n                document.removeEventListener('visibilitychange', visibilityChanged, false);\n\n                if (onCloseTimer) {\n                  window.clearTimeout(onCloseTimer);\n                }\n              };\n            });\n\n          case 5:\n            _context9.prev = 5;\n            cleanup();\n            return _context9.finish(5);\n\n          case 8:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9, null, [[2,, 5, 8]]);\n  }));\n  return _waitForAppResume2.apply(this, arguments);\n}\n\nfunction _checkCordovaConfiguration(auth) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n  var win = _cordovaWindow(); // Check all dependencies installed.\n  // https://github.com/nordnet/cordova-universal-links-plugin\n  // Note that cordova-universal-links-plugin has been abandoned.\n  // A fork with latest fixes is available at:\n  // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\n\n\n  _assert(typeof ((_a = win === null || win === void 0 ? void 0 : win.universalLinks) === null || _a === void 0 ? void 0 : _a.subscribe) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-universal-links-plugin-fix'\n  }); // https://www.npmjs.com/package/cordova-plugin-buildinfo\n\n\n  _assert(typeof ((_b = win === null || win === void 0 ? void 0 : win.BuildInfo) === null || _b === void 0 ? void 0 : _b.packageName) !== 'undefined', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-buildInfo'\n  }); // https://github.com/google/cordova-plugin-browsertab\n\n\n  _assert(typeof ((_e = (_d = (_c = win === null || win === void 0 ? void 0 : win.cordova) === null || _c === void 0 ? void 0 : _c.plugins) === null || _d === void 0 ? void 0 : _d.browsertab) === null || _e === void 0 ? void 0 : _e.openUrl) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-browsertab'\n  });\n\n  _assert(typeof ((_h = (_g = (_f = win === null || win === void 0 ? void 0 : win.cordova) === null || _f === void 0 ? void 0 : _f.plugins) === null || _g === void 0 ? void 0 : _g.browsertab) === null || _h === void 0 ? void 0 : _h.isAvailable) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-browsertab'\n  }); // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\n\n\n  _assert(typeof ((_k = (_j = win === null || win === void 0 ? void 0 : win.cordova) === null || _j === void 0 ? void 0 : _j.InAppBrowser) === null || _k === void 0 ? void 0 : _k.open) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-inappbrowser'\n  });\n}\n/**\r\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\r\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\r\n * protocol).\r\n */\n\n\nfunction computeSha256(_x8) {\n  return _computeSha.apply(this, arguments);\n}\n\nfunction _computeSha() {\n  _computeSha = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(sessionId) {\n    var bytes, buf, arr;\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            bytes = stringToArrayBuffer(sessionId); // TODO: For IE11 crypto has a different name and this operation comes back\n            //       as an object, not a promise. This is the old proposed standard that\n            //       is used by IE11:\n            // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\n\n            _context10.next = 3;\n            return crypto.subtle.digest('SHA-256', bytes);\n\n          case 3:\n            buf = _context10.sent;\n            arr = Array.from(new Uint8Array(buf));\n            return _context10.abrupt(\"return\", arr.map(function (num) {\n              return num.toString(16).padStart(2, '0');\n            }).join(''));\n\n          case 6:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _computeSha.apply(this, arguments);\n}\n\nfunction stringToArrayBuffer(str) {\n  // This function is only meant to deal with an ASCII charset and makes\n  // certain simplifying assumptions.\n  debugAssert(/[0-9a-zA-Z]+/.test(str), 'Can only convert alpha-numeric strings');\n\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder().encode(str);\n  }\n\n  var buff = new ArrayBuffer(str.length);\n  var view = new Uint8Array(buff);\n\n  for (var i = 0; i < str.length; i++) {\n    view[i] = str.charCodeAt(i);\n  }\n\n  return view;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar SESSION_ID_LENGTH = 20;\n/** Custom AuthEventManager that adds passive listeners to events */\n\nvar CordovaAuthEventManager = /*#__PURE__*/function (_AuthEventManager) {\n  _inherits(CordovaAuthEventManager, _AuthEventManager);\n\n  var _super = _createSuper(CordovaAuthEventManager);\n\n  function CordovaAuthEventManager() {\n    var _this;\n\n    _classCallCheck(this, CordovaAuthEventManager);\n\n    _this = _super.apply(this, arguments);\n    _this.passiveListeners = new Set();\n    _this.initPromise = new Promise(function (resolve) {\n      _this.resolveInialized = resolve;\n    });\n    return _this;\n  }\n\n  _createClass(CordovaAuthEventManager, [{\n    key: \"addPassiveListener\",\n    value: function addPassiveListener(cb) {\n      this.passiveListeners.add(cb);\n    }\n  }, {\n    key: \"removePassiveListener\",\n    value: function removePassiveListener(cb) {\n      this.passiveListeners.delete(cb);\n    } // In a Cordova environment, this manager can live through multiple redirect\n    // operations\n\n  }, {\n    key: \"resetRedirect\",\n    value: function resetRedirect() {\n      this.queuedRedirectEvent = null;\n      this.hasHandledPotentialRedirect = false;\n    }\n    /** Override the onEvent method */\n\n  }, {\n    key: \"onEvent\",\n    value: function onEvent(event) {\n      this.resolveInialized();\n      this.passiveListeners.forEach(function (cb) {\n        return cb(event);\n      });\n      return _get(_getPrototypeOf(CordovaAuthEventManager.prototype), \"onEvent\", this).call(this, event);\n    }\n  }, {\n    key: \"initialized\",\n    value: function () {\n      var _initialized = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.initPromise;\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initialized() {\n        return _initialized.apply(this, arguments);\n      }\n\n      return initialized;\n    }()\n  }]);\n\n  return CordovaAuthEventManager;\n}(AuthEventManager);\n/**\r\n * Generates a (partial) {@link AuthEvent}.\r\n */\n\n\nfunction _generateNewEvent(auth, type) {\n  var eventId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  return {\n    type: type,\n    eventId: eventId,\n    urlResponse: null,\n    sessionId: generateSessionId(),\n    postBody: null,\n    tenantId: auth.tenantId,\n    error: _createError(auth, \"no-auth-event\"\n    /* NO_AUTH_EVENT */\n    )\n  };\n}\n\nfunction _savePartialEvent(auth, event) {\n  return storage()._set(persistenceKey(auth), event);\n}\n\nfunction _getAndRemoveEvent(_x9) {\n  return _getAndRemoveEvent2.apply(this, arguments);\n}\n\nfunction _getAndRemoveEvent2() {\n  _getAndRemoveEvent2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(auth) {\n    var event;\n    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            _context11.next = 2;\n            return storage()._get(persistenceKey(auth));\n\n          case 2:\n            event = _context11.sent;\n\n            if (!event) {\n              _context11.next = 6;\n              break;\n            }\n\n            _context11.next = 6;\n            return storage()._remove(persistenceKey(auth));\n\n          case 6:\n            return _context11.abrupt(\"return\", event);\n\n          case 7:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  }));\n  return _getAndRemoveEvent2.apply(this, arguments);\n}\n\nfunction _eventFromPartialAndUrl(partialEvent, url) {\n  var _a, _b; // Parse the deep link within the dynamic link URL.\n\n\n  var callbackUrl = _getDeepLinkFromCallback(url); // Confirm it is actually a callback URL.\n  // Currently the universal link will be of this format:\n  // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\n  // This is a fake URL but is not intended to take the user anywhere\n  // and just redirect to the app.\n\n\n  if (callbackUrl.includes('/__/auth/callback')) {\n    // Check if there is an error in the URL.\n    // This mechanism is also used to pass errors back to the app:\n    // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\n    var params = searchParamsOrEmpty(callbackUrl); // Get the error object corresponding to the stringified error if found.\n\n    var errorObject = params['firebaseError'] ? parseJsonOrNull(decodeURIComponent(params['firebaseError'])) : null;\n    var code = (_b = (_a = errorObject === null || errorObject === void 0 ? void 0 : errorObject['code']) === null || _a === void 0 ? void 0 : _a.split('auth/')) === null || _b === void 0 ? void 0 : _b[1];\n    var error = code ? _createError(code) : null;\n\n    if (error) {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        error: error,\n        urlResponse: null,\n        sessionId: null,\n        postBody: null\n      };\n    } else {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        sessionId: partialEvent.sessionId,\n        urlResponse: callbackUrl,\n        postBody: null\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction generateSessionId() {\n  var chars = [];\n  var allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n  for (var i = 0; i < SESSION_ID_LENGTH; i++) {\n    var idx = Math.floor(Math.random() * allowedChars.length);\n    chars.push(allowedChars.charAt(idx));\n  }\n\n  return chars.join('');\n}\n\nfunction storage() {\n  return _getInstance(browserLocalPersistence);\n}\n\nfunction persistenceKey(auth) {\n  return _persistenceKeyName(\"authEvent\"\n  /* AUTH_EVENT */\n  , auth.config.apiKey, auth.name);\n}\n\nfunction parseJsonOrNull(json) {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return null;\n  }\n} // Exported for testing\n\n\nfunction _getDeepLinkFromCallback(url) {\n  var params = searchParamsOrEmpty(url);\n  var link = params['link'] ? decodeURIComponent(params['link']) : undefined; // Double link case (automatic redirect)\n\n  var doubleDeepLink = searchParamsOrEmpty(link)['link']; // iOS custom scheme links.\n\n  var iOSDeepLink = params['deep_link_id'] ? decodeURIComponent(params['deep_link_id']) : undefined;\n  var iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\n  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\n}\n/**\r\n * Optimistically tries to get search params from a string, or else returns an\r\n * empty search params object.\r\n */\n\n\nfunction searchParamsOrEmpty(url) {\n  if (!(url === null || url === void 0 ? void 0 : url.includes('?'))) {\n    return {};\n  }\n\n  var _url$split = url.split('?'),\n      _url$split2 = _toArray(_url$split),\n      _ = _url$split2[0],\n      rest = _url$split2.slice(1);\n\n  return querystringDecode(rest.join('?'));\n}\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * How long to wait for the initial auth event before concluding no\r\n * redirect pending\r\n */\n\n\nvar INITIAL_EVENT_TIMEOUT_MS = 500;\n\nvar CordovaPopupRedirectResolver = /*#__PURE__*/function () {\n  function CordovaPopupRedirectResolver() {\n    _classCallCheck(this, CordovaPopupRedirectResolver);\n\n    this._redirectPersistence = browserSessionPersistence;\n    this._shouldInitProactively = true; // This is lightweight for Cordova\n\n    this.eventManagers = new Map();\n    this.originValidationPromises = {};\n    this._completeRedirectFn = _getRedirectResult;\n  }\n\n  _createClass(CordovaPopupRedirectResolver, [{\n    key: \"_initialize\",\n    value: function () {\n      var _initialize2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(auth) {\n        var key, manager;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                key = auth._key();\n                manager = this.eventManagers.get(key);\n\n                if (!manager) {\n                  manager = new CordovaAuthEventManager(auth);\n                  this.eventManagers.set(key, manager);\n                  this.attachCallbackListeners(auth, manager);\n                }\n\n                return _context2.abrupt(\"return\", manager);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _initialize(_x10) {\n        return _initialize2.apply(this, arguments);\n      }\n\n      return _initialize;\n    }()\n  }, {\n    key: \"_openPopup\",\n    value: function _openPopup(auth) {\n      _fail(auth, \"operation-not-supported-in-this-environment\"\n      /* OPERATION_NOT_SUPPORTED */\n      );\n    }\n  }, {\n    key: \"_openRedirect\",\n    value: function () {\n      var _openRedirect2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(auth, provider, authType, eventId) {\n        var manager, event, url, iabRef;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _checkCordovaConfiguration(auth);\n\n                _context3.next = 3;\n                return this._initialize(auth);\n\n              case 3:\n                manager = _context3.sent;\n                _context3.next = 6;\n                return manager.initialized();\n\n              case 6:\n                // Reset the persisted redirect states. This does not matter on Web where\n                // the redirect always blows away application state entirely. On Cordova,\n                // the app maintains control flow through the redirect.\n                manager.resetRedirect();\n\n                _clearRedirectOutcomes();\n\n                _context3.next = 10;\n                return this._originValidation(auth);\n\n              case 10:\n                event = _generateNewEvent(auth, authType, eventId);\n                _context3.next = 13;\n                return _savePartialEvent(auth, event);\n\n              case 13:\n                _context3.next = 15;\n                return _generateHandlerUrl(auth, event, provider);\n\n              case 15:\n                url = _context3.sent;\n                _context3.next = 18;\n                return _performRedirect(url);\n\n              case 18:\n                iabRef = _context3.sent;\n                return _context3.abrupt(\"return\", _waitForAppResume(auth, manager, iabRef));\n\n              case 20:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _openRedirect(_x11, _x12, _x13, _x14) {\n        return _openRedirect2.apply(this, arguments);\n      }\n\n      return _openRedirect;\n    }()\n  }, {\n    key: \"_isIframeWebStorageSupported\",\n    value: function _isIframeWebStorageSupported(_auth, _cb) {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"_originValidation\",\n    value: function _originValidation(auth) {\n      var key = auth._key();\n\n      if (!this.originValidationPromises[key]) {\n        this.originValidationPromises[key] = _validateOrigin(auth);\n      }\n\n      return this.originValidationPromises[key];\n    }\n  }, {\n    key: \"attachCallbackListeners\",\n    value: function attachCallbackListeners(auth, manager) {\n      // Get the global plugins\n      var _cordovaWindow3 = _cordovaWindow(),\n          universalLinks = _cordovaWindow3.universalLinks,\n          handleOpenURL = _cordovaWindow3.handleOpenURL,\n          BuildInfo = _cordovaWindow3.BuildInfo;\n\n      var noEventTimeout = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _getAndRemoveEvent(auth);\n\n              case 2:\n                manager.onEvent(generateNoEvent());\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      })), INITIAL_EVENT_TIMEOUT_MS);\n\n      var universalLinksCb = /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(eventData) {\n          var partialEvent, finalEvent;\n          return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  // We have an event so we can clear the no event timeout\n                  clearTimeout(noEventTimeout);\n                  _context5.next = 3;\n                  return _getAndRemoveEvent(auth);\n\n                case 3:\n                  partialEvent = _context5.sent;\n                  finalEvent = null;\n\n                  if (partialEvent && (eventData === null || eventData === void 0 ? void 0 : eventData['url'])) {\n                    finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\n                  } // If finalEvent is never filled, trigger with no event\n\n\n                  manager.onEvent(finalEvent || generateNoEvent());\n\n                case 7:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        return function universalLinksCb(_x15) {\n          return _ref2.apply(this, arguments);\n        };\n      }(); // Universal links subscriber doesn't exist for iOS, so we need to check\n\n\n      if (typeof universalLinks !== 'undefined' && typeof universalLinks.subscribe === 'function') {\n        universalLinks.subscribe(null, universalLinksCb);\n      } // iOS 7 or 8 custom URL schemes.\n      // This is also the current default behavior for iOS 9+.\n      // For this to work, cordova-plugin-customurlscheme needs to be installed.\n      // https://github.com/EddyVerbruggen/Custom-URL-scheme\n      // Do not overwrite the existing developer's URL handler.\n\n\n      var existingHandleOpenURL = handleOpenURL;\n      var packagePrefix = \"\".concat(BuildInfo.packageName.toLowerCase(), \"://\");\n\n      _cordovaWindow().handleOpenURL = /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(url) {\n          return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (url.toLowerCase().startsWith(packagePrefix)) {\n                    // We want this intentionally to float\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    universalLinksCb({\n                      url: url\n                    });\n                  } // Call the developer's handler if it is present.\n\n\n                  if (typeof existingHandleOpenURL === 'function') {\n                    try {\n                      existingHandleOpenURL(url);\n                    } catch (e) {\n                      // This is a developer error. Don't stop the flow of the SDK.\n                      console.error(e);\n                    }\n                  }\n\n                case 2:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6);\n        }));\n\n        return function (_x16) {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n    }\n  }]);\n\n  return CordovaPopupRedirectResolver;\n}();\n/**\r\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\r\n * based applications.\r\n *\r\n * @public\r\n */\n\n\nvar cordovaPopupRedirectResolver = CordovaPopupRedirectResolver;\n\nfunction generateNoEvent() {\n  return {\n    type: \"unknown\"\n    /* UNKNOWN */\n    ,\n    eventId: null,\n    sessionId: null,\n    urlResponse: null,\n    postBody: null,\n    tenantId: null,\n    error: _createError(\"no-auth-event\"\n    /* NO_AUTH_EVENT */\n    )\n  };\n}\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\n// of autogenerated documentation pages to reduce accidental misuse.\n\n\nfunction addFrameworkForLogging(auth, framework) {\n  _castAuth(auth)._logFramework(framework);\n}\n\nexport { addFrameworkForLogging, cordovaPopupRedirectResolver };","map":{"version":3,"sources":["/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@firebase/auth/src/platform_cordova/plugins.ts","/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@firebase/auth/src/platform_cordova/popup_redirect/utils.ts","/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@firebase/auth/src/platform_cordova/popup_redirect/events.ts","/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@firebase/auth/src/platform_cordova/popup_redirect/popup_redirect.ts","/home/jasonzjc/Java_Programs/amazon-clone/node_modules/@firebase/auth/internal/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;SAmDgB,c,GAAc;AAC5B,SAAQ,MAAR;AACF;ACrDA;;;;;;;;;;;;;;;;;AAmCA;;;;;;AAIA,IAAM,mBAAmB,GAAG,IAA5B;AAEA;;;;SAGsB,mB;;;AAsCtB;;;;;;kFAtCO,kBACL,IADK,EAEL,KAFK,EAGL,QAHK;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,8BAMiB,cAAc,EAN/B,EAMG,SANH,mBAMG,SANH;AAOL,YAAA,WAAW,CAAC,KAAK,CAAC,SAAP,EAAkB,wCAAlB,CAAX;AAPK;AAAA,mBAQuB,aAAa,CAAC,KAAK,CAAC,SAAP,CARpC;;AAAA;AAQC,YAAA,aARD;AAUC,YAAA,gBAVD,GAU4C,EAV5C;;AAWL,gBAAI,MAAM,EAAV,EAAc;;AAEZ,cAAA,gBAAgB,CAAC,KAAD,CAAhB,GAA0B,SAAS,CAAC,WAApC;AACD,aAHD,MAGO,IAAI,UAAU,EAAd,EAAkB;;AAEvB,cAAA,gBAAgB,CAAC,KAAD,CAAhB,GAA0B,SAAS,CAAC,WAApC;AACD,aAHM,MAGA;AACL,cAAA,KAAK,CAAC,IAAD,EAAK;AAAA;AAAL,eAAL;AACD,aAnBI,C;;;AAsBL,gBAAI,SAAS,CAAC,WAAd,EAA2B;AACzB,cAAA,gBAAgB,CAAC,gBAAD,CAAhB,GAAqC,SAAS,CAAC,WAA/C;AACD,aAxBI,C;;;AA2BL,YAAA,gBAAgB,CAAC,WAAD,CAAhB,GAAgC,aAAhC;AA3BK,8CA4BE,eAAe,CACpB,IADoB,EAEpB,QAFoB,EAGpB,KAAK,CAAC,IAHc,EAIpB,SAJoB,EAKpB,CAAA,EAAA,GAAA,KAAK,CAAC,OAAN,MAAa,IAAb,IAAa,EAAA,KAAA,KAAA,CAAb,GAAa,EAAb,GAAiB,SALG,EAMpB,gBANoB,CA5BjB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAyCe,e;;;;;8EAAf,kBAA+B,IAA/B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BACiB,cAAc,EAD/B,EACG,SADH,mBACG,SADH;AAEC,YAAA,OAFD,GAEoC,EAFpC;;AAGL,gBAAI,MAAM,EAAV,EAAc;AACZ,cAAA,OAAO,CAAC,WAAR,GAAsB,SAAS,CAAC,WAAhC;AACD,aAFD,MAEO,IAAI,UAAU,EAAd,EAAkB;AACvB,cAAA,OAAO,CAAC,kBAAR,GAA6B,SAAS,CAAC,WAAvC;AACD,aAFM,MAEA;AACL,cAAA,KAAK,CAAC,IAAD,EAAK;AAAA;AAAL,eAAL;AACD,aATI,C;;;AAAA;AAAA,mBAYC,iBAAiB,CAAC,IAAD,EAAO,OAAP,CAZlB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAeS,gB,CACd,U,EAAkB;;AAGlB,wBAAoB,cAAc,EAAlC;AAAA,MAAQ,OAAR,mBAAQ,OAAR;;AAEA,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAA;AACxB,IAAA,OAAO,CAAC,OAAR,CAAgB,UAAhB,CAA2B,WAA3B,CAAuC,UAAA,qBAAqB,EAAA;AAC1D,UAAI,MAAM,GAA2B,IAArC;;AACA,UAAI,qBAAJ,EAA2B;AACzB,QAAA,OAAO,CAAC,OAAR,CAAgB,UAAhB,CAA2B,OAA3B,CAAmC,UAAnC;AACD,OAFD,MAEO;;AAEL,QAAA,MAAM,GAAG,OAAO,CAAC,YAAR,CAAqB,IAArB,CACP,UADO,EAEP,UAAU,KAAK,QAAL,GAAgB,SAFnB,EAGP,cAHO,CAAT;AAKD;;AACD,MAAA,OAAO,CAAC,MAAD,CAAP;AACD,KAbD;AAcD,GAfM,CAAP;AAgBD;AAQD;;;;;;;;SAMsB,iB;;;AA4EtB;;;;;;;;gFA5EO,kBACL,IADK,EAEL,aAFK,EAGL,MAHK;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,8BAMe,cAAc,EAN7B,EAMG,OANH,mBAMG,OANH;;AAQD,YAAA,OARC,GAQS,mBAAA,CAAc,CARvB;;AAAA;AAAA;AAAA,mBAUG,IAAI,OAAJ,CAAkB,UAAC,OAAD,EAAU,MAAV,EAAgB;AACtC,kBAAI,YAAY,GAAkB,IAAlC,CADsC,C;;;AAItC,uBAAS,aAAT,GAAsB;uBAAA,C;;;;;;AAGpB,gBAAA,OAAO;AACP,oBAAM,eAAe,GAAG,CAAA,EAAA,GAAA,OAAO,CAAC,OAAR,CAAgB,UAAhB,MAA0B,IAA1B,IAA0B,EAAA,KAAA,KAAA,CAA1B,GAA0B,KAAA,CAA1B,GAA0B,EAAA,CAAE,KAApD;;AACA,oBAAI,OAAO,eAAP,KAA2B,UAA/B,EAA2C;AACzC,kBAAA,eAAe;AAChB,iBAPmB,C;;;;;;AAUpB,oBAAI,QAAO,MAAM,KAAA,IAAN,IAAA,MAAM,KAAA,KAAA,CAAN,GAAM,KAAA,CAAN,GAAA,MAAM,CAAE,KAAf,MAAyB,UAA7B,EAAyC;AACvC,kBAAA,MAAM,CAAC,KAAP;AACD;AACF;;AAED,uBAAS,OAAT,GAAgB;AACd,oBAAI,YAAJ,EAAkB;;AAEhB;AACD;;AAED,gBAAA,YAAY,GAAG,MAAM,CAAC,UAAP,CAAkB,YAAA;;AAE/B,kBAAA,MAAM,CAAC,YAAY,CAAC,IAAD,EAAK;AAAA;AAAL,mBAAb,CAAN;AACD,iBAHc,EAGZ,mBAHY,CAAf;AAID;;AAED,uBAAS,iBAAT,GAA0B;AACxB,oBAAI,CAAA,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,eAAV,MAA8B,SAAlC,EAA6C;AAC3C,kBAAA,OAAO;AACR;AACF,eAnCqC,C;;;;;;AAuCtC,cAAA,aAAa,CAAC,kBAAd,CAAiC,aAAjC,EAvCsC,C;;;AA0CtC,cAAA,QAAQ,CAAC,gBAAT,CAA0B,QAA1B,EAAoC,OAApC,EAA6C,KAA7C;;AACA,kBAAI,UAAU,EAAd,EAAkB;AAChB,gBAAA,QAAQ,CAAC,gBAAT,CAA0B,kBAA1B,EAA8C,iBAA9C,EAAiE,KAAjE;AACD,eA7CqC,C;;;;AAgDtC,cAAA,OAAO,GAAG,mBAAA;AACR,gBAAA,aAAa,CAAC,qBAAd,CAAoC,aAApC;AACA,gBAAA,QAAQ,CAAC,mBAAT,CAA6B,QAA7B,EAAuC,OAAvC,EAAgD,KAAhD;AACA,gBAAA,QAAQ,CAAC,mBAAT,CACE,kBADF,EAEE,iBAFF,EAGE,KAHF;;AAKA,oBAAI,YAAJ,EAAkB;AAChB,kBAAA,MAAM,CAAC,YAAP,CAAoB,YAApB;AACD;AACF,eAXD;AAYD,aA5DK,CAVH;;AAAA;AAAA;AAwEH,YAAA,OAAO;AAxEJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAiFS,0B,CAA2B,I,EAAkB;;;AAC3D,MAAM,GAAG,GAAG,cAAc,EAA1B,CAD2D,C;;;;;;;AAO3D,EAAA,OAAO,CACL,QAAO,CAAA,EAAA,GAAA,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,cAAL,MAAmB,IAAnB,IAAmB,EAAA,KAAA,KAAA,CAAnB,GAAmB,KAAA,CAAnB,GAAmB,EAAA,CAAE,SAA5B,MAA0C,UADrC,EAEL,IAFK,EAED;AAAA;AAFC,IAIL;AACE,IAAA,aAAa,EAAE;AADjB,GAJK,CAAP,CAP2D,C;;;AAiB3D,EAAA,OAAO,CACL,QAAO,CAAA,EAAA,GAAA,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,SAAL,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAc,EAAA,CAAE,WAAvB,MAAuC,WADlC,EAEL,IAFK,EAED;AAAA;AAFC,IAIL;AACE,IAAA,aAAa,EAAE;AADjB,GAJK,CAAP,CAjB2D,C;;;AA2B3D,EAAA,OAAO,CACL,QAAO,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,OAAL,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,OAAd,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,UAAvB,MAAiC,IAAjC,IAAiC,EAAA,KAAA,KAAA,CAAjC,GAAiC,KAAA,CAAjC,GAAiC,EAAA,CAAE,OAA1C,MAAsD,UADjD,EAEL,IAFK,EAED;AAAA;AAFC,IAIL;AACE,IAAA,aAAa,EAAE;AADjB,GAJK,CAAP;;AAQA,EAAA,OAAO,CACL,QAAO,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,OAAL,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,OAAd,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,UAAvB,MAAiC,IAAjC,IAAiC,EAAA,KAAA,KAAA,CAAjC,GAAiC,KAAA,CAAjC,GAAiC,EAAA,CAAE,WAA1C,MAA0D,UADrD,EAEL,IAFK,EAED;AAAA;AAFC,IAIL;AACE,IAAA,aAAa,EAAE;AADjB,GAJK,CAAP,CAnC2D,C;;;AA6C3D,EAAA,OAAO,CACL,QAAO,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,OAAL,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,YAAd,MAA0B,IAA1B,IAA0B,EAAA,KAAA,KAAA,CAA1B,GAA0B,KAAA,CAA1B,GAA0B,EAAA,CAAE,IAAnC,MAA4C,UADvC,EAEL,IAFK,EAED;AAAA;AAFC,IAIL;AACE,IAAA,aAAa,EAAE;AADjB,GAJK,CAAP;AAQD;AAED;;;;;;;SAKe,a;;;;;yEAAf,mBAA6B,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AACQ,YAAA,KADR,GACgB,mBAAmB,CAAC,SAAD,CADnC,E;;;;;AAAA;AAAA,mBAOoB,MAAM,CAAC,MAAP,CAAc,MAAd,CAAqB,SAArB,EAAgC,KAAhC,CAPpB;;AAAA;AAOQ,YAAA,GAPR;AAQQ,YAAA,GARR,GAQc,KAAK,CAAC,IAAN,CAAW,IAAI,UAAJ,CAAe,GAAf,CAAX,CARd;AAAA,+CASS,GAAG,CAAC,GAAJ,CAAQ,UAAA,GAAG;AAAA,qBAAI,GAAG,CAAC,QAAJ,CAAa,EAAb,EAAiB,QAAjB,CAA0B,CAA1B,EAA6B,GAA7B,CAAJ;AAAA,aAAX,EAAkD,IAAlD,CAAuD,EAAvD,CATT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYA,SAAS,mBAAT,CAA6B,GAA7B,EAAwC;;;AAGtC,EAAA,WAAW,CACT,eAAe,IAAf,CAAoB,GAApB,CADS,EAET,wCAFS,CAAX;;AAIA,MAAI,OAAO,WAAP,KAAuB,WAA3B,EAAwC;AACtC,WAAO,IAAI,WAAJ,GAAkB,MAAlB,CAAyB,GAAzB,CAAP;AACD;;AAED,MAAM,IAAI,GAAG,IAAI,WAAJ,CAAgB,GAAG,CAAC,MAApB,CAAb;AACA,MAAM,IAAI,GAAG,IAAI,UAAJ,CAAe,IAAf,CAAb;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAAG,CAAC,MAAxB,EAAgC,CAAC,EAAjC,EAAqC;AACnC,IAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAG,CAAC,UAAJ,CAAe,CAAf,CAAV;AACD;;AACD,SAAO,IAAP;AACF;AClTA;;;;;;;;;;;;;;;;;;AA+BA,IAAM,iBAAiB,GAAG,EAA1B;AAEA;;IACa,uB;;;;;AAAb,qCAAA;AAAA;;AAAA;;;AACmB,UAAA,gBAAA,GAAmB,IAAI,GAAJ,EAAnB;AAET,UAAA,WAAA,GAAc,IAAI,OAAJ,CAAkB,UAAA,OAAO,EAAA;AAC7C,YAAK,gBAAL,GAAwB,OAAxB;AACD,KAFqB,CAAd;AAHV;AAgCC;;;;WAzBC,4BAAmB,EAAnB,EAA6C;AAC3C,WAAK,gBAAL,CAAsB,GAAtB,CAA0B,EAA1B;AACD;;;WAED,+BAAsB,EAAtB,EAAgD;AAC9C,WAAK,gBAAL,CAAsB,MAAtB,CAA6B,EAA7B;AACD,K;;;;;WAID,yBAAa;AACX,WAAK,mBAAL,GAA2B,IAA3B;AACA,WAAK,2BAAL,GAAmC,KAAnC;AACD;;;;;WAGD,iBAAQ,KAAR,EAAwB;AACtB,WAAK,gBAAL;AACA,WAAK,gBAAL,CAAsB,OAAtB,CAA8B,UAAA,EAAE;AAAA,eAAI,EAAE,CAAC,KAAD,CAAN;AAAA,OAAhC;AACA,kGAAqB,KAArB;AACD;;;;kFAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,KAAK,WADb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;EA7B2C,gB;AAkC7C;;;;;SAGgB,iB,CACd,I,EACA,I,EAC6B;AAAA,MAA7B,OAA6B,uEAAJ,IAAI;AAE7B,SAAO;AACL,IAAA,IAAI,EAAJ,IADK;AAEL,IAAA,OAAO,EAAP,OAFK;AAGL,IAAA,WAAW,EAAE,IAHR;AAIL,IAAA,SAAS,EAAE,iBAAiB,EAJvB;AAKL,IAAA,QAAQ,EAAE,IALL;AAML,IAAA,QAAQ,EAAE,IAAI,CAAC,QANV;AAOL,IAAA,KAAK,EAAE,YAAY,CAAC,IAAD,EAAK;AAAA;AAAL;AAPd,GAAP;AASD;;SAEe,iB,CACd,I,EACA,K,EAAgB;AAEhB,SAAO,OAAO,GAAG,IAAV,CACL,cAAc,CAAC,IAAD,CADT,EAEJ,KAFI,CAAP;AAID;;SAEqB,kB;;;;;iFAAf,mBACL,IADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGgB,OAAO,GAAG,IAAV,CACnB,cAAc,CAAC,IAAD,CADK,CAHhB;;AAAA;AAGC,YAAA,KAHD;;AAAA,iBAMD,KANC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOG,OAAO,GAAG,OAAV,CAAkB,cAAc,CAAC,IAAD,CAAhC,CAPH;;AAAA;AAAA,+CASE,KATF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAYS,uB,CACd,Y,EACA,G,EAAW;aAAA,C;;;AAGX,MAAM,WAAW,GAAG,wBAAwB,CAAC,GAAD,CAA5C,CAHW,C;;;;;;;AASX,MAAI,WAAW,CAAC,QAAZ,CAAqB,mBAArB,CAAJ,EAA+C;;;;AAI7C,QAAM,MAAM,GAAG,mBAAmB,CAAC,WAAD,CAAlC,CAJ6C,C;;AAM7C,QAAM,WAAW,GAAG,MAAM,CAAC,eAAD,CAAN,GAChB,eAAe,CAAC,kBAAkB,CAAC,MAAM,CAAC,eAAD,CAAP,CAAnB,CADC,GAEhB,IAFJ;AAGA,QAAM,IAAI,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAA,WAAW,CAAG,MAAH,CAAX,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,KAAF,CAAQ,OAAR,CAArB,MAAqC,IAArC,IAAqC,EAAA,KAAA,KAAA,CAArC,GAAqC,KAAA,CAArC,GAAqC,EAAA,CAAG,CAAH,CAAlD;AACA,QAAM,KAAK,GAAG,IAAI,GAAG,YAAY,CAAC,IAAD,CAAf,GAAwB,IAA1C;;AACA,QAAI,KAAJ,EAAW;AACT,aAAO;AACL,QAAA,IAAI,EAAE,YAAY,CAAC,IADd;AAEL,QAAA,OAAO,EAAE,YAAY,CAAC,OAFjB;AAGL,QAAA,QAAQ,EAAE,YAAY,CAAC,QAHlB;AAIL,QAAA,KAAK,EAAL,KAJK;AAKL,QAAA,WAAW,EAAE,IALR;AAML,QAAA,SAAS,EAAE,IANN;AAOL,QAAA,QAAQ,EAAE;AAPL,OAAP;AASD,KAVD,MAUO;AACL,aAAO;AACL,QAAA,IAAI,EAAE,YAAY,CAAC,IADd;AAEL,QAAA,OAAO,EAAE,YAAY,CAAC,OAFjB;AAGL,QAAA,QAAQ,EAAE,YAAY,CAAC,QAHlB;AAIL,QAAA,SAAS,EAAE,YAAY,CAAC,SAJnB;AAKL,QAAA,WAAW,EAAE,WALR;AAML,QAAA,QAAQ,EAAE;AANL,OAAP;AAQD;AACF;;AAED,SAAO,IAAP;AACD;;AAED,SAAS,iBAAT,GAA0B;AACxB,MAAM,KAAK,GAAG,EAAd;AACA,MAAM,YAAY,GAChB,gEADF;;AAEA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,iBAApB,EAAuC,CAAC,EAAxC,EAA4C;AAC1C,QAAM,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,YAAY,CAAC,MAAxC,CAAZ;AACA,IAAA,KAAK,CAAC,IAAN,CAAW,YAAY,CAAC,MAAb,CAAoB,GAApB,CAAX;AACD;;AACD,SAAO,KAAK,CAAC,IAAN,CAAW,EAAX,CAAP;AACD;;AAED,SAAS,OAAT,GAAgB;AACd,SAAO,YAAY,CAAC,uBAAD,CAAnB;AACD;;AAED,SAAS,cAAT,CAAwB,IAAxB,EAA0C;AACxC,SAAO,mBAAmB,CAAA;AAAA;AAAA,IAAqB,IAAI,CAAC,MAAL,CAAY,MAAjC,EAAyC,IAAI,CAAC,IAA9C,CAA1B;AACD;;AAED,SAAS,eAAT,CAAyB,IAAzB,EAAqC;AACnC,MAAI;AACF,WAAO,IAAI,CAAC,KAAL,CAAW,IAAX,CAAP;AACD,GAFD,CAEE,OAAO,CAAP,EAAU;AACV,WAAO,IAAP;AACD;AACF,C,CAED;;;SACgB,wB,CAAyB,G,EAAW;AAClD,MAAM,MAAM,GAAG,mBAAmB,CAAC,GAAD,CAAlC;AACA,MAAM,IAAI,GAAG,MAAM,CAAC,MAAD,CAAN,GAAiB,kBAAkB,CAAC,MAAM,CAAC,MAAD,CAAP,CAAnC,GAAsD,SAAnE,CAFkD,C;;AAIlD,MAAM,cAAc,GAAG,mBAAmB,CAAC,IAAD,CAAnB,CAA0B,MAA1B,CAAvB,CAJkD,C;;AAMlD,MAAM,WAAW,GAAG,MAAM,CAAC,cAAD,CAAN,GAChB,kBAAkB,CAAC,MAAM,CAAC,cAAD,CAAP,CADF,GAEhB,SAFJ;AAGA,MAAM,iBAAiB,GAAG,mBAAmB,CAAC,WAAD,CAAnB,CAAiC,MAAjC,CAA1B;AACA,SAAO,iBAAiB,IAAI,WAArB,IAAoC,cAApC,IAAsD,IAAtD,IAA8D,GAArE;AACD;AAED;;;;;;AAIA,SAAS,mBAAT,CAA6B,GAA7B,EAAoD;AAClD,MAAI,EAAC,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,QAAL,CAAc,GAAd,CAAD,CAAJ,EAAyB;AACvB,WAAO,EAAP;AACD;;AAED,mBAAqB,GAAG,CAAC,KAAJ,CAAU,GAAV,CAArB;AAAA;AAAA,MAAO,CAAP;AAAA,MAAa,IAAb;;AACA,SAAO,iBAAiB,CAAC,IAAI,CAAC,IAAL,CAAU,GAAV,CAAD,CAAxB;AACF;AChNA;;;;;;;;;;;;;;;;;AA+CA;;;;;;AAIA,IAAM,wBAAwB,GAAG,GAAjC;;IAEM,4B;AAAN,0CAAA;AAAA;;AACW,SAAA,oBAAA,GAAuB,yBAAvB;AACA,SAAA,sBAAA,GAAyB,IAAzB,CAFX,CAEyC;;AACtB,SAAA,aAAA,GAAgB,IAAI,GAAJ,EAAhB;AACA,SAAA,wBAAA,GAA0D,EAA1D;AAEjB,SAAA,mBAAA,GAAsB,kBAAtB;AAwHD;;;;;kFAtHC,kBAAkB,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQ,gBAAA,GADR,GACc,IAAI,CAAC,IAAL,EADd;AAEM,gBAAA,OAFN,GAEgB,KAAK,aAAL,CAAmB,GAAnB,CAAuB,GAAvB,CAFhB;;AAGE,oBAAI,CAAC,OAAL,EAAc;AACZ,kBAAA,OAAO,GAAG,IAAI,uBAAJ,CAA4B,IAA5B,CAAV;AACA,uBAAK,aAAL,CAAmB,GAAnB,CAAuB,GAAvB,EAA4B,OAA5B;AACA,uBAAK,uBAAL,CAA6B,IAA7B,EAAmC,OAAnC;AACD;;AAPH,kDAQS,OART;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAWA,oBAAW,IAAX,EAA6B;AAC3B,MAAA,KAAK,CAAC,IAAD,EAAK;AAAA;AAAL,OAAL;AACD;;;;oFAED,kBACE,IADF,EAEE,QAFF,EAGE,QAHF,EAIE,OAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAME,gBAAA,0BAA0B,CAAC,IAAD,CAA1B;;AANF;AAAA,uBAOwB,KAAK,WAAL,CAAiB,IAAjB,CAPxB;;AAAA;AAOQ,gBAAA,OAPR;AAAA;AAAA,uBAQQ,OAAO,CAAC,WAAR,EARR;;AAAA;;;;AAaE,gBAAA,OAAO,CAAC,aAAR;;AACA,gBAAA,sBAAsB;;AAdxB;AAAA,uBAgBQ,KAAK,iBAAL,CAAuB,IAAvB,CAhBR;;AAAA;AAkBQ,gBAAA,KAlBR,GAkBgB,iBAAiB,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,CAlBjC;AAAA;AAAA,uBAmBQ,iBAAiB,CAAC,IAAD,EAAO,KAAP,CAnBzB;;AAAA;AAAA;AAAA,uBAoBoB,mBAAmB,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,CApBvC;;AAAA;AAoBQ,gBAAA,GApBR;AAAA;AAAA,uBAqBuB,gBAAgB,CAAC,GAAD,CArBvC;;AAAA;AAqBQ,gBAAA,MArBR;AAAA,kDAsBS,iBAAiB,CAAC,IAAD,EAAO,OAAP,EAAgB,MAAhB,CAtB1B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAyBA,sCACE,KADF,EAEE,GAFF,EAEoC;AAElC,YAAM,IAAI,KAAJ,CAAU,yBAAV,CAAN;AACD;;;WAED,2BAAkB,IAAlB,EAAoC;AAClC,UAAM,GAAG,GAAG,IAAI,CAAC,IAAL,EAAZ;;AACA,UAAI,CAAC,KAAK,wBAAL,CAA8B,GAA9B,CAAL,EAAyC;AACvC,aAAK,wBAAL,CAA8B,GAA9B,IAAqC,eAAe,CAAC,IAAD,CAApD;AACD;;AAED,aAAO,KAAK,wBAAL,CAA8B,GAA9B,CAAP;AACD;;;WAEO,iCACN,IADM,EAEN,OAFM,EAEmB;;AAGzB,4BAAqD,cAAc,EAAnE;AAAA,UAAQ,cAAR,mBAAQ,cAAR;AAAA,UAAwB,aAAxB,mBAAwB,aAAxB;AAAA,UAAuC,SAAvC,mBAAuC,SAAvC;;AAEA,UAAM,cAAc,GAAG,UAAU,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAG1B,kBAAkB,CAAC,IAAD,CAHQ;;AAAA;AAIhC,gBAAA,OAAO,CAAC,OAAR,CAAgB,eAAe,EAA/B;;AAJgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD,IAK9B,wBAL8B,CAAjC;;AAOA,UAAM,gBAAgB;AAAA,6EAAG,kBACvB,SADuB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIvB,kBAAA,YAAY,CAAC,cAAD,CAAZ;AAJuB;AAAA,yBAMI,kBAAkB,CAAC,IAAD,CANtB;;AAAA;AAMjB,kBAAA,YANiB;AAOnB,kBAAA,UAPmB,GAOY,IAPZ;;AAQvB,sBAAI,YAAY,KAAI,SAAS,KAAA,IAAT,IAAA,SAAS,KAAA,KAAA,CAAT,GAAS,KAAA,CAAT,GAAA,SAAS,CAAG,KAAH,CAAb,CAAhB,EAAwC;AACtC,oBAAA,UAAU,GAAG,uBAAuB,CAAC,YAAD,EAAe,SAAS,CAAC,KAAD,CAAxB,CAApC;AACD,mBAVsB,C;;;AAavB,kBAAA,OAAO,CAAC,OAAR,CAAgB,UAAU,IAAI,eAAe,EAA7C;;AAbuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH;;AAAA,wBAAhB,gBAAgB;AAAA;AAAA;AAAA,SAAtB,CAZyB,C;;;AA6BzB,UACE,OAAO,cAAP,KAA0B,WAA1B,IACA,OAAO,cAAc,CAAC,SAAtB,KAAoC,UAFtC,EAGE;AACA,QAAA,cAAc,CAAC,SAAf,CAAyB,IAAzB,EAA+B,gBAA/B;AACD,OAlCwB,C;;;;;;;AAyCzB,UAAM,qBAAqB,GAAG,aAA9B;AACA,UAAM,aAAa,aAAM,SAAS,CAAC,WAAV,CAAsB,WAAtB,EAAN,QAAnB;;AACA,MAAA,cAAc,GAAG,aAAjB;AAAA,6EAAiC,kBAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAC/B,sBAAI,GAAG,CAAC,WAAJ,GAAkB,UAAlB,CAA6B,aAA7B,CAAJ,EAAiD;;;AAG/C,oBAAA,gBAAgB,CAAC;AAAE,sBAAA,GAAG,EAAH;AAAF,qBAAD,CAAhB;AACD,mBAL8B,C;;;AAO/B,sBAAI,OAAO,qBAAP,KAAiC,UAArC,EAAiD;AAC/C,wBAAI;AACF,sBAAA,qBAAqB,CAAC,GAAD,CAArB;AACD,qBAFD,CAEE,OAAO,CAAP,EAAU;;AAEV,sBAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACD;AACF;;AAd8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAjC;;AAAA;AAAA;AAAA;AAAA;AAgBD;;;;;AAGH;;;;;;;;IAMa,4BAA4B,GACvC,4B;;AAEF,SAAS,eAAT,GAAwB;AACtB,SAAO;AACL,IAAA,IAAI,EAAA;AAAA;AADC;AAEL,IAAA,OAAO,EAAE,IAFJ;AAGL,IAAA,SAAS,EAAE,IAHN;AAIL,IAAA,WAAW,EAAE,IAJR;AAKL,IAAA,QAAQ,EAAE,IALL;AAML,IAAA,QAAQ,EAAE,IANL;AAOL,IAAA,KAAK,EAAE,YAAY,CAAA;AAAA;AAAA;AAPd,GAAP;AASF;ACxMA;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;;SACgB,sB,CAAuB,I,EAAY,S,EAAiB;AAClE,EAAA,SAAS,CAAC,IAAD,CAAT,CAAgB,aAAhB,CAA8B,SAA9B;AACF","sourcesContent":["/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface CordovaWindow extends Window {\n  cordova: {\n    plugins: {\n      browsertab: {\n        isAvailable(cb: (available: boolean) => void): void;\n        openUrl(url: string): void;\n        close(): void;\n      };\n    };\n\n    InAppBrowser: {\n      open(url: string, target: string, options: string): InAppBrowserRef;\n    };\n  };\n\n  universalLinks: {\n    subscribe(\n      n: null,\n      cb: (event: Record<string, string> | null) => void\n    ): void;\n  };\n\n  BuildInfo: {\n    readonly packageName: string;\n    readonly displayName: string;\n  };\n\n  handleOpenURL(url: string): void;\n}\n\nexport interface InAppBrowserRef {\n  close?: () => void;\n}\n\nexport function _cordovaWindow(): CordovaWindow {\n  return (window as unknown) as CordovaWindow;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthProvider } from '../../model/public_types';\nimport { AuthErrorCode } from '../../core/errors';\nimport {\n  debugAssert,\n  _assert,\n  _createError,\n  _fail\n} from '../../core/util/assert';\nimport { _isAndroid, _isIOS, _isIOS7Or8 } from '../../core/util/browser';\nimport { _getRedirectUrl } from '../../core/util/handler';\nimport { AuthInternal } from '../../model/auth';\nimport { AuthEvent } from '../../model/popup_redirect';\nimport { InAppBrowserRef, _cordovaWindow } from '../plugins';\nimport {\n  GetProjectConfigRequest,\n  _getProjectConfig\n} from '../../api/project_config/get_project_config';\n\n/**\n * How long to wait after the app comes back into focus before concluding that\n * the user closed the sign in tab.\n */\nconst REDIRECT_TIMEOUT_MS = 2000;\n\n/**\n * Generates the URL for the OAuth handler.\n */\nexport async function _generateHandlerUrl(\n  auth: AuthInternal,\n  event: AuthEvent,\n  provider: AuthProvider\n): Promise<string> {\n  // Get the cordova plugins\n  const { BuildInfo } = _cordovaWindow();\n  debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\n  const sessionDigest = await computeSha256(event.sessionId);\n\n  const additionalParams: Record<string, string> = {};\n  if (_isIOS()) {\n    // iOS app identifier\n    additionalParams['ibi'] = BuildInfo.packageName;\n  } else if (_isAndroid()) {\n    // Android app identifier\n    additionalParams['apn'] = BuildInfo.packageName;\n  } else {\n    _fail(auth, AuthErrorCode.OPERATION_NOT_SUPPORTED);\n  }\n\n  // Add the display name if available\n  if (BuildInfo.displayName) {\n    additionalParams['appDisplayName'] = BuildInfo.displayName;\n  }\n\n  // Attached the hashed session ID\n  additionalParams['sessionId'] = sessionDigest;\n  return _getRedirectUrl(\n    auth,\n    provider,\n    event.type,\n    undefined,\n    event.eventId ?? undefined,\n    additionalParams\n  );\n}\n\n/**\n * Validates that this app is valid for this project configuration\n */\nexport async function _validateOrigin(auth: AuthInternal): Promise<void> {\n  const { BuildInfo } = _cordovaWindow();\n  const request: GetProjectConfigRequest = {};\n  if (_isIOS()) {\n    request.iosBundleId = BuildInfo.packageName;\n  } else if (_isAndroid()) {\n    request.androidPackageName = BuildInfo.packageName;\n  } else {\n    _fail(auth, AuthErrorCode.OPERATION_NOT_SUPPORTED);\n  }\n\n  // Will fail automatically if package name is not authorized\n  await _getProjectConfig(auth, request);\n}\n\nexport function _performRedirect(\n  handlerUrl: string\n): Promise<InAppBrowserRef | null> {\n  // Get the cordova plugins\n  const { cordova } = _cordovaWindow();\n\n  return new Promise(resolve => {\n    cordova.plugins.browsertab.isAvailable(browserTabIsAvailable => {\n      let iabRef: InAppBrowserRef | null = null;\n      if (browserTabIsAvailable) {\n        cordova.plugins.browsertab.openUrl(handlerUrl);\n      } else {\n        // TODO: Return the inappbrowser ref that's returned from the open call\n        iabRef = cordova.InAppBrowser.open(\n          handlerUrl,\n          _isIOS7Or8() ? '_blank' : '_system',\n          'location=yes'\n        );\n      }\n      resolve(iabRef);\n    });\n  });\n}\n\n// Thin interface wrapper to avoid circular dependency with ./events module\ninterface PassiveAuthEventListener {\n  addPassiveListener(cb: () => void): void;\n  removePassiveListener(cb: () => void): void;\n}\n\n/**\n * This function waits for app activity to be seen before resolving. It does\n * this by attaching listeners to various dom events. Once the app is determined\n * to be visible, this promise resolves. AFTER that resolution, the listeners\n * are detached and any browser tabs left open will be closed.\n */\nexport async function _waitForAppResume(\n  auth: AuthInternal,\n  eventListener: PassiveAuthEventListener,\n  iabRef: InAppBrowserRef | null\n): Promise<void> {\n  // Get the cordova plugins\n  const { cordova } = _cordovaWindow();\n\n  let cleanup = (): void => {};\n  try {\n    await new Promise<void>((resolve, reject) => {\n      let onCloseTimer: number | null = null;\n\n      // DEFINE ALL THE CALLBACKS =====\n      function authEventSeen(): void {\n        // Auth event was detected. Resolve this promise and close the extra\n        // window if it's still open.\n        resolve();\n        const closeBrowserTab = cordova.plugins.browsertab?.close;\n        if (typeof closeBrowserTab === 'function') {\n          closeBrowserTab();\n        }\n        // Close inappbrowser emebedded webview in iOS7 and 8 case if still\n        // open.\n        if (typeof iabRef?.close === 'function') {\n          iabRef.close();\n        }\n      }\n\n      function resumed(): void {\n        if (onCloseTimer) {\n          // This code already ran; do not rerun.\n          return;\n        }\n\n        onCloseTimer = window.setTimeout(() => {\n          // Wait two seeconds after resume then reject.\n          reject(_createError(auth, AuthErrorCode.REDIRECT_CANCELLED_BY_USER));\n        }, REDIRECT_TIMEOUT_MS);\n      }\n\n      function visibilityChanged(): void {\n        if (document?.visibilityState === 'visible') {\n          resumed();\n        }\n      }\n\n      // ATTACH ALL THE LISTENERS =====\n      // Listen for the auth event\n      eventListener.addPassiveListener(authEventSeen);\n\n      // Listen for resume and visibility events\n      document.addEventListener('resume', resumed, false);\n      if (_isAndroid()) {\n        document.addEventListener('visibilitychange', visibilityChanged, false);\n      }\n\n      // SETUP THE CLEANUP FUNCTION =====\n      cleanup = () => {\n        eventListener.removePassiveListener(authEventSeen);\n        document.removeEventListener('resume', resumed, false);\n        document.removeEventListener(\n          'visibilitychange',\n          visibilityChanged,\n          false\n        );\n        if (onCloseTimer) {\n          window.clearTimeout(onCloseTimer);\n        }\n      };\n    });\n  } finally {\n    cleanup();\n  }\n}\n\n/**\n * Checks the configuration of the Cordova environment. This has no side effect\n * if the configuration is correct; otherwise it throws an error with the\n * missing plugin.\n */\nexport function _checkCordovaConfiguration(auth: AuthInternal): void {\n  const win = _cordovaWindow();\n  // Check all dependencies installed.\n  // https://github.com/nordnet/cordova-universal-links-plugin\n  // Note that cordova-universal-links-plugin has been abandoned.\n  // A fork with latest fixes is available at:\n  // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\n  _assert(\n    typeof win?.universalLinks?.subscribe === 'function',\n    auth,\n    AuthErrorCode.INVALID_CORDOVA_CONFIGURATION,\n    {\n      missingPlugin: 'cordova-universal-links-plugin-fix'\n    }\n  );\n\n  // https://www.npmjs.com/package/cordova-plugin-buildinfo\n  _assert(\n    typeof win?.BuildInfo?.packageName !== 'undefined',\n    auth,\n    AuthErrorCode.INVALID_CORDOVA_CONFIGURATION,\n    {\n      missingPlugin: 'cordova-plugin-buildInfo'\n    }\n  );\n\n  // https://github.com/google/cordova-plugin-browsertab\n  _assert(\n    typeof win?.cordova?.plugins?.browsertab?.openUrl === 'function',\n    auth,\n    AuthErrorCode.INVALID_CORDOVA_CONFIGURATION,\n    {\n      missingPlugin: 'cordova-plugin-browsertab'\n    }\n  );\n  _assert(\n    typeof win?.cordova?.plugins?.browsertab?.isAvailable === 'function',\n    auth,\n    AuthErrorCode.INVALID_CORDOVA_CONFIGURATION,\n    {\n      missingPlugin: 'cordova-plugin-browsertab'\n    }\n  );\n\n  // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\n  _assert(\n    typeof win?.cordova?.InAppBrowser?.open === 'function',\n    auth,\n    AuthErrorCode.INVALID_CORDOVA_CONFIGURATION,\n    {\n      missingPlugin: 'cordova-plugin-inappbrowser'\n    }\n  );\n}\n\n/**\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\n * protocol).\n */\nasync function computeSha256(sessionId: string): Promise<string> {\n  const bytes = stringToArrayBuffer(sessionId);\n\n  // TODO: For IE11 crypto has a different name and this operation comes back\n  //       as an object, not a promise. This is the old proposed standard that\n  //       is used by IE11:\n  // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\n  const buf = await crypto.subtle.digest('SHA-256', bytes);\n  const arr = Array.from(new Uint8Array(buf));\n  return arr.map(num => num.toString(16).padStart(2, '0')).join('');\n}\n\nfunction stringToArrayBuffer(str: string): Uint8Array {\n  // This function is only meant to deal with an ASCII charset and makes\n  // certain simplifying assumptions.\n  debugAssert(\n    /[0-9a-zA-Z]+/.test(str),\n    'Can only convert alpha-numeric strings'\n  );\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder().encode(str);\n  }\n\n  const buff = new ArrayBuffer(str.length);\n  const view = new Uint8Array(buff);\n  for (let i = 0; i < str.length; i++) {\n    view[i] = str.charCodeAt(i);\n  }\n  return view;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { querystringDecode } from '@firebase/util';\nimport { AuthEventManager } from '../../core/auth/auth_event_manager';\nimport { AuthErrorCode } from '../../core/errors';\nimport { PersistedBlob, PersistenceInternal } from '../../core/persistence';\nimport {\n  KeyName,\n  _persistenceKeyName\n} from '../../core/persistence/persistence_user_manager';\nimport { _createError } from '../../core/util/assert';\nimport { _getInstance } from '../../core/util/instantiator';\nimport { AuthInternal } from '../../model/auth';\nimport { AuthEvent, AuthEventType } from '../../model/popup_redirect';\nimport { browserLocalPersistence } from '../../platform_browser/persistence/local_storage';\n\nconst SESSION_ID_LENGTH = 20;\n\n/** Custom AuthEventManager that adds passive listeners to events */\nexport class CordovaAuthEventManager extends AuthEventManager {\n  private readonly passiveListeners = new Set<(e: AuthEvent) => void>();\n  private resolveInialized!: () => void;\n  private initPromise = new Promise<void>(resolve => {\n    this.resolveInialized = resolve;\n  });\n\n  addPassiveListener(cb: (e: AuthEvent) => void): void {\n    this.passiveListeners.add(cb);\n  }\n\n  removePassiveListener(cb: (e: AuthEvent) => void): void {\n    this.passiveListeners.delete(cb);\n  }\n\n  // In a Cordova environment, this manager can live through multiple redirect\n  // operations\n  resetRedirect(): void {\n    this.queuedRedirectEvent = null;\n    this.hasHandledPotentialRedirect = false;\n  }\n\n  /** Override the onEvent method */\n  onEvent(event: AuthEvent): boolean {\n    this.resolveInialized();\n    this.passiveListeners.forEach(cb => cb(event));\n    return super.onEvent(event);\n  }\n\n  async initialized(): Promise<void> {\n    await this.initPromise;\n  }\n}\n\n/**\n * Generates a (partial) {@link AuthEvent}.\n */\nexport function _generateNewEvent(\n  auth: AuthInternal,\n  type: AuthEventType,\n  eventId: string | null = null\n): AuthEvent {\n  return {\n    type,\n    eventId,\n    urlResponse: null,\n    sessionId: generateSessionId(),\n    postBody: null,\n    tenantId: auth.tenantId,\n    error: _createError(auth, AuthErrorCode.NO_AUTH_EVENT)\n  };\n}\n\nexport function _savePartialEvent(\n  auth: AuthInternal,\n  event: AuthEvent\n): Promise<void> {\n  return storage()._set(\n    persistenceKey(auth),\n    (event as object) as PersistedBlob\n  );\n}\n\nexport async function _getAndRemoveEvent(\n  auth: AuthInternal\n): Promise<AuthEvent | null> {\n  const event = (await storage()._get(\n    persistenceKey(auth)\n  )) as AuthEvent | null;\n  if (event) {\n    await storage()._remove(persistenceKey(auth));\n  }\n  return event;\n}\n\nexport function _eventFromPartialAndUrl(\n  partialEvent: AuthEvent,\n  url: string\n): AuthEvent | null {\n  // Parse the deep link within the dynamic link URL.\n  const callbackUrl = _getDeepLinkFromCallback(url);\n  // Confirm it is actually a callback URL.\n  // Currently the universal link will be of this format:\n  // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\n  // This is a fake URL but is not intended to take the user anywhere\n  // and just redirect to the app.\n  if (callbackUrl.includes('/__/auth/callback')) {\n    // Check if there is an error in the URL.\n    // This mechanism is also used to pass errors back to the app:\n    // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\n    const params = searchParamsOrEmpty(callbackUrl);\n    // Get the error object corresponding to the stringified error if found.\n    const errorObject = params['firebaseError']\n      ? parseJsonOrNull(decodeURIComponent(params['firebaseError']))\n      : null;\n    const code = errorObject?.['code']?.split('auth/')?.[1];\n    const error = code ? _createError(code) : null;\n    if (error) {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        error,\n        urlResponse: null,\n        sessionId: null,\n        postBody: null\n      };\n    } else {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        sessionId: partialEvent.sessionId,\n        urlResponse: callbackUrl,\n        postBody: null\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction generateSessionId(): string {\n  const chars = [];\n  const allowedChars =\n    '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  for (let i = 0; i < SESSION_ID_LENGTH; i++) {\n    const idx = Math.floor(Math.random() * allowedChars.length);\n    chars.push(allowedChars.charAt(idx));\n  }\n  return chars.join('');\n}\n\nfunction storage(): PersistenceInternal {\n  return _getInstance(browserLocalPersistence);\n}\n\nfunction persistenceKey(auth: AuthInternal): string {\n  return _persistenceKeyName(KeyName.AUTH_EVENT, auth.config.apiKey, auth.name);\n}\n\nfunction parseJsonOrNull(json: string): ReturnType<typeof JSON.parse> | null {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return null;\n  }\n}\n\n// Exported for testing\nexport function _getDeepLinkFromCallback(url: string): string {\n  const params = searchParamsOrEmpty(url);\n  const link = params['link'] ? decodeURIComponent(params['link']) : undefined;\n  // Double link case (automatic redirect)\n  const doubleDeepLink = searchParamsOrEmpty(link)['link'];\n  // iOS custom scheme links.\n  const iOSDeepLink = params['deep_link_id']\n    ? decodeURIComponent(params['deep_link_id'])\n    : undefined;\n  const iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\n  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\n}\n\n/**\n * Optimistically tries to get search params from a string, or else returns an\n * empty search params object.\n */\nfunction searchParamsOrEmpty(url: string | undefined): Record<string, string> {\n  if (!url?.includes('?')) {\n    return {};\n  }\n\n  const [_, ...rest] = url.split('?');\n  return querystringDecode(rest.join('?')) as Record<string, string>;\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthProvider, PopupRedirectResolver } from '../../model/public_types';\nimport { browserSessionPersistence } from '../../platform_browser/persistence/session_storage';\nimport { AuthInternal } from '../../model/auth';\nimport {\n  AuthEvent,\n  AuthEventType,\n  PopupRedirectResolverInternal\n} from '../../model/popup_redirect';\nimport { AuthPopup } from '../../platform_browser/util/popup';\nimport { _createError, _fail } from '../../core/util/assert';\nimport { AuthErrorCode } from '../../core/errors';\nimport {\n  _checkCordovaConfiguration,\n  _generateHandlerUrl,\n  _performRedirect,\n  _validateOrigin,\n  _waitForAppResume\n} from './utils';\nimport {\n  CordovaAuthEventManager,\n  _eventFromPartialAndUrl,\n  _generateNewEvent,\n  _getAndRemoveEvent,\n  _savePartialEvent\n} from './events';\nimport { AuthEventManager } from '../../core/auth/auth_event_manager';\nimport { _getRedirectResult } from '../../platform_browser/strategies/redirect';\nimport { _clearRedirectOutcomes } from '../../core/strategies/redirect';\nimport { _cordovaWindow } from '../plugins';\n\n/**\n * How long to wait for the initial auth event before concluding no\n * redirect pending\n */\nconst INITIAL_EVENT_TIMEOUT_MS = 500;\n\nclass CordovaPopupRedirectResolver implements PopupRedirectResolverInternal {\n  readonly _redirectPersistence = browserSessionPersistence;\n  readonly _shouldInitProactively = true; // This is lightweight for Cordova\n  private readonly eventManagers = new Map<string, CordovaAuthEventManager>();\n  private readonly originValidationPromises: Record<string, Promise<void>> = {};\n\n  _completeRedirectFn = _getRedirectResult;\n\n  async _initialize(auth: AuthInternal): Promise<CordovaAuthEventManager> {\n    const key = auth._key();\n    let manager = this.eventManagers.get(key);\n    if (!manager) {\n      manager = new CordovaAuthEventManager(auth);\n      this.eventManagers.set(key, manager);\n      this.attachCallbackListeners(auth, manager);\n    }\n    return manager;\n  }\n\n  _openPopup(auth: AuthInternal): Promise<AuthPopup> {\n    _fail(auth, AuthErrorCode.OPERATION_NOT_SUPPORTED);\n  }\n\n  async _openRedirect(\n    auth: AuthInternal,\n    provider: AuthProvider,\n    authType: AuthEventType,\n    eventId?: string\n  ): Promise<void> {\n    _checkCordovaConfiguration(auth);\n    const manager = await this._initialize(auth);\n    await manager.initialized();\n\n    // Reset the persisted redirect states. This does not matter on Web where\n    // the redirect always blows away application state entirely. On Cordova,\n    // the app maintains control flow through the redirect.\n    manager.resetRedirect();\n    _clearRedirectOutcomes();\n\n    await this._originValidation(auth);\n\n    const event = _generateNewEvent(auth, authType, eventId);\n    await _savePartialEvent(auth, event);\n    const url = await _generateHandlerUrl(auth, event, provider);\n    const iabRef = await _performRedirect(url);\n    return _waitForAppResume(auth, manager, iabRef);\n  }\n\n  _isIframeWebStorageSupported(\n    _auth: AuthInternal,\n    _cb: (support: boolean) => unknown\n  ): void {\n    throw new Error('Method not implemented.');\n  }\n\n  _originValidation(auth: AuthInternal): Promise<void> {\n    const key = auth._key();\n    if (!this.originValidationPromises[key]) {\n      this.originValidationPromises[key] = _validateOrigin(auth);\n    }\n\n    return this.originValidationPromises[key];\n  }\n\n  private attachCallbackListeners(\n    auth: AuthInternal,\n    manager: AuthEventManager\n  ): void {\n    // Get the global plugins\n    const { universalLinks, handleOpenURL, BuildInfo } = _cordovaWindow();\n\n    const noEventTimeout = setTimeout(async () => {\n      // We didn't see that initial event. Clear any pending object and\n      // dispatch no event\n      await _getAndRemoveEvent(auth);\n      manager.onEvent(generateNoEvent());\n    }, INITIAL_EVENT_TIMEOUT_MS);\n\n    const universalLinksCb = async (\n      eventData: Record<string, string> | null\n    ): Promise<void> => {\n      // We have an event so we can clear the no event timeout\n      clearTimeout(noEventTimeout);\n\n      const partialEvent = await _getAndRemoveEvent(auth);\n      let finalEvent: AuthEvent | null = null;\n      if (partialEvent && eventData?.['url']) {\n        finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\n      }\n\n      // If finalEvent is never filled, trigger with no event\n      manager.onEvent(finalEvent || generateNoEvent());\n    };\n\n    // Universal links subscriber doesn't exist for iOS, so we need to check\n    if (\n      typeof universalLinks !== 'undefined' &&\n      typeof universalLinks.subscribe === 'function'\n    ) {\n      universalLinks.subscribe(null, universalLinksCb);\n    }\n\n    // iOS 7 or 8 custom URL schemes.\n    // This is also the current default behavior for iOS 9+.\n    // For this to work, cordova-plugin-customurlscheme needs to be installed.\n    // https://github.com/EddyVerbruggen/Custom-URL-scheme\n    // Do not overwrite the existing developer's URL handler.\n    const existingHandleOpenURL = handleOpenURL;\n    const packagePrefix = `${BuildInfo.packageName.toLowerCase()}://`;\n    _cordovaWindow().handleOpenURL = async url => {\n      if (url.toLowerCase().startsWith(packagePrefix)) {\n        // We want this intentionally to float\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        universalLinksCb({ url });\n      }\n      // Call the developer's handler if it is present.\n      if (typeof existingHandleOpenURL === 'function') {\n        try {\n          existingHandleOpenURL(url);\n        } catch (e) {\n          // This is a developer error. Don't stop the flow of the SDK.\n          console.error(e);\n        }\n      }\n    };\n  }\n}\n\n/**\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\n * based applications.\n *\n * @public\n */\nexport const cordovaPopupRedirectResolver: PopupRedirectResolver =\n  CordovaPopupRedirectResolver;\n\nfunction generateNoEvent(): AuthEvent {\n  return {\n    type: AuthEventType.UNKNOWN,\n    eventId: null,\n    sessionId: null,\n    urlResponse: null,\n    postBody: null,\n    tenantId: null,\n    error: _createError(AuthErrorCode.NO_AUTH_EVENT)\n  };\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _castAuth } from '../src/core/auth/auth_impl';\nimport { Auth } from '../src/model/public_types';\n\n/**\n * This interface is intended only for use by @firebase/auth-compat, do not use directly\n */\nexport * from '../index';\n\nexport { SignInWithIdpResponse } from '../src/api/authentication/idp';\nexport { AuthErrorCode } from '../src/core/errors';\nexport { PersistenceInternal } from '../src/core/persistence';\nexport { _persistenceKeyName } from '../src/core/persistence/persistence_user_manager';\nexport { UserImpl } from '../src/core/user/user_impl';\nexport { _getInstance } from '../src/core/util/instantiator';\nexport {\n  PopupRedirectResolverInternal,\n  EventManager,\n  AuthEventType\n} from '../src/model/popup_redirect';\nexport { UserCredentialInternal, UserParameters } from '../src/model/user';\nexport { AuthInternal, ConfigInternal } from '../src/model/auth';\nexport { DefaultConfig, AuthImpl, _castAuth } from '../src/core/auth/auth_impl';\n\nexport { ClientPlatform, _getClientVersion } from '../src/core/util/version';\n\nexport { _generateEventId } from '../src/core/util/event_id';\nexport { TaggedWithTokenResponse } from '../src/model/id_token';\nexport { _fail, _assert } from '../src/core/util/assert';\nexport { AuthPopup } from '../src/platform_browser/util/popup';\nexport { _getRedirectResult } from '../src/platform_browser/strategies/redirect';\nexport { cordovaPopupRedirectResolver } from '../src/platform_cordova/popup_redirect/popup_redirect';\nexport { FetchProvider } from '../src/core/util/fetch_provider';\nexport { SAMLAuthCredential } from '../src/core/credentials/saml';\n\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\n// of autogenerated documentation pages to reduce accidental misuse.\nexport function addFrameworkForLogging(auth: Auth, framework: string): void {\n  _castAuth(auth)._logFramework(framework);\n}\n"]},"metadata":{},"sourceType":"module"}